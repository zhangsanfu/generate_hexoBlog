---
title: Py006-01-19聚合查询和分组查询
date: 2018-11-01 22:22:12
tags: M06
---

### 聚合

- aggregate聚合:返回值是字典，不再是queryset
- 导入模块from django.db.models import Avg,Max,Min,Count

```
查询：所有书籍平均价格
res = Book.objects.all().argregate(Avg('price')) #  {"price_avg":111.00} 这个key是默认生成的，你也可以自己指定

res = Book.objects.all().argregate(avg_price=Avg('price')) #  {"avg_price":111.00} 


# 查avg max min
res = Book.objects.all().argregate(Avg('price'),Max('price'),Min('price'))
```

### 分组查询

#### 单表分组
