---
title: Py003-01-02继承
date: 2018-09-03 22:04:19
tags: M03
---

### 继承

```
class Parent1:
    pass
class Parent2:
    pass

class Sub1(Parent1): # 单继承
    pass
    
class Sub2(Parent1,Parent2): # 多继承
    pass

# 查看继承关系
print(Sub1.__bases__)
print(Sub2.__bases__)
'''
(<class '__main__.Parent1'>,)
(<class '__main__.Parent1'>, <class '__main__.Parent2'>)
'''
```

> 再看英雄类

```

class Hero:
    def __init__(self,name,life_value,aggresivity):
        self.name = name
        self.life_value = life_value
        self.aggresivity = aggresivity

    def attack(self,enemy):
        enemy.life_value -= self.aggresivity

class AX(Hero):
    pass


ax = AX('斧王',30,40)
print(ax.__dict__) # {'name': '斧王', 'life_value': 30, 'aggresivity': 40}
```

> 属性查找顺序

```
class Hero:
    x = 1
    y = 3
    def __init__(self,name,life_value,aggresivity):
        self.name = name
        self.life_value = life_value
        self.aggresivity = aggresivity

    def attack(self,enemy):
        enemy.life_value -= self.aggresivity

class AX(Hero):
    pass

class Sevn(Hexo):
    y = 4
    pass

ax = AX('斧王',30,40)
ax.x # 1 自己本身没有去父类查找  如果父类没有报错

sevn = Sevn('斯温',50,60)

sevn.y # 4 子类有就不去父级查找
```

高深的属性查找，看你晕不晕

```
class Foo:
    def f1(self):
        print('from Foo.f1')
    def f2(self):
        print('from Foo.f2')

class Bar(Foo):
    def f2(self):
        print('from Bar.f2')

b = Bar()
b.f2() # from Bar.f2

------------------------------------------------------------------------
再看
------------------------------------------------------------------------

class Foo:
    def f1(self):
        print('from Foo.f1')
    def f2(self):
        print('from Foo.f2')
        self.f1()

class Bar(Foo):
    def f1(self):
        print('from Bar.f1')

b = Bar()
b.f2()
'''
from Foo.f2
from Bar.f1 为啥是这个？不是就近吗？ 要看self是谁  self一直是b   
'''
```

#### 派生

```
class Hero:
    def __init__(self,name,life_value,aggresivity):
        self.name = name
        self.life_value = life_value
        self.aggresivity = aggresivity

    def attack(self,enemy):
        enemy.life_value -= self.aggresivity

class AX(Hero):
    camp = '斧子'
    def attack(self,enemy):
        print('反刺螺旋')
    pass

class Sevn(Hexo):
    camp = '真男人'
    def attack(self,enemy):
        print('锤子')
    pass
```

#### 继承实现原理

- 子类会先于父类被检查
- 多个父类会根据它们在列表中的顺序被检查
- 如果对下一个类存在两个合法的选择,选择第一个父类


